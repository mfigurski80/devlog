<!DOCTYPE html>
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        meta(name='theme-color', content='#303633')
        style
            include ./highlight.css
            include ./index.css
        title DevLog
    body
        .container
            include elements/header.pug

            - var files = fs.readdirSync('./posts').sort((a, b) => fs.statSync('./posts/' + a).birthtime.getTime() > fs.statSync('./posts/' + b).birthtime.getTime())
            - var re = /<h1.*>(.*)<\/h1>/
            each file in files
                - var md = markdown(fs.readFileSync('./posts/' + file, 'utf8')).split('\n')
                - var match = re.exec(md[0])
                - var title = match ? match[1] : file.split('-').join(' ')
                article(id=title)
                    a(href='#' + title)
                        h1.title=title + ' - ' + fs.statSync('./posts/' + file).birthtime.toDateString()
                    != md.slice(1).join('\n')
